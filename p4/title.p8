pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
function _init()
	crack1=gen_crack(64,60,20,10,7)
	crack2=gen_crack(64,60,20,10,13)
end

function _draw()
	cls(12)
	draw_crack(crack1)
	draw_crack(crack2)
	print(
	"\^i\^t\^w\^#\#7icebreaker",
	25,55,1
	)
end

function gen_crack(cx,cy,strand_cnt,max_seg_length,col)
-- generate a cracked-ice effect
    local out={{x=cx,y=cy},col,{}}
    for i=1,strand_cnt do
        local s={}
        local dir=rnd(1)
        local x=cx
        local y=cy
        for i=1,flr(rnd(10))+1 do
            x+=cos(dir+rnd(0.25)-0.125)*rnd(max_seg_length)
            y+=sin(dir+rnd(0.25)-0.125)*rnd(max_seg_length)
            add(s,{x, y})
        end
        add(out[3],s)
    end
    return out
end

function draw_crack(crack)
-- draw the ice crack
    local c=crack[1]
    for s in all(crack[3]) do
        line(c.x,c.y,c.x,c.y,crack[2])
        for ep in all(s) do
            line(ep[1],ep[2],crack[2])
        end
    end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
